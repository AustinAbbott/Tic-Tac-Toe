<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" type="text/css" href="main.css" />
  <title>Tic Tac Toe</title>
  <header style="padding: 5em;"><h1>Tic Tac Toe</h1></header>
  <body>
    <table>
      <tr id="rowOne">
        <td
          class="columns"
          id="one"
          style="background-color: white;"
          onclick="playerOne(id)"
        ></td>
        <td class="columns" id="two" onclick="playerOne(id)"></td>
        <td class="bottom" id="three" onclick="playerOne(id)"></td>
      </tr>

      <tr>
        <td class="columns" id="four" onclick="playerOne(id)"></td>
        <td class="columns" id="five" onclick="playerOne(id)"></td>
        <td class="bottom" id="six" onclick="playerOne(id)"></td>
      </tr>

      <tr>
        <td class="bottomRow" id="seven" onclick="playerOne(id)"></td>
        <td class="bottomRow" id="eight" onclick="playerOne(id)"></td>
        <td class="bottomRightCorner" id="nine" onclick="playerOne(id)"></td>
      </tr>
    </table>

    <div id="message" style="padding: 3em; font-size: 25px;"><h2></h2></div>

    <script>
      let value = "&#x2715";
      let storageObj = {};
      let numberObj = {
        1: "one",
        2: "two",
        3: "three",
        4: "four",
        5: "five",
        6: "six",
        7: "seven",
        8: "eight",
        9: "nine",
      };
      let roundWon = false;

      function playerOne(elementId) {
        if (!storageObj[elementId] && !roundWon) {
          document.getElementById(elementId).innerHTML = value;
          storageObj[elementId] = value;

          if (
            storageObj["one"] &&
            storageObj["one"] === storageObj["two"] &&
            storageObj["one"] === storageObj["three"]
          ) {
            document.getElementById("one").style.color = "green";
            document.getElementById("two").style.color = "green";
            document.getElementById("three").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["four"] &&
            storageObj["four"] === storageObj["five"] &&
            storageObj["four"] === storageObj["six"]
          ) {
            document.getElementById("four").style.color = "green";
            document.getElementById("five").style.color = "green";
            document.getElementById("six").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["seven"] &&
            storageObj["seven"] === storageObj["eight"] &&
            storageObj["seven"] === storageObj["nine"]
          ) {
            document.getElementById("seven").style.color = "green";
            document.getElementById("eight").style.color = "green";
            document.getElementById("nine").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["one"] &&
            storageObj["one"] === storageObj["four"] &&
            storageObj["one"] === storageObj["seven"]
          ) {
            document.getElementById("one").style.color = "green";
            document.getElementById("four").style.color = "green";
            document.getElementById("seven").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["two"] &&
            storageObj["two"] === storageObj["five"] &&
            storageObj["two"] === storageObj["eight"]
          ) {
            document.getElementById("two").style.color = "green";
            document.getElementById("five").style.color = "green";
            document.getElementById("eight").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["three"] &&
            storageObj["three"] === storageObj["six"] &&
            storageObj["three"] === storageObj["nine"]
          ) {
            document.getElementById("three").style.color = "green";
            document.getElementById("six").style.color = "green";
            document.getElementById("nine").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["one"] &&
            storageObj["one"] === storageObj["five"] &&
            storageObj["one"] === storageObj["nine"]
          ) {
            document.getElementById("one").style.color = "green";
            document.getElementById("five").style.color = "green";
            document.getElementById("nine").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else if (
            storageObj["three"] &&
            storageObj["three"] === storageObj["five"] &&
            storageObj["three"] === storageObj["seven"]
          ) {
            document.getElementById("three").style.color = "green";
            document.getElementById("five").style.color = "green";
            document.getElementById("seven").style.color = "green";
            document.getElementById("message").innerHTML = "You win!";
            roundWon = true;
          } else {
            setTimeout(() => playerTwo(), 500);
          }

          if (
            storageObj["one"] &&
            storageObj["two"] &&
            storageObj["three"] &&
            storageObj["four"] &&
            storageObj["five"] &&
            storageObj["six"] &&
            storageObj["seven"] &&
            storageObj["eight"] &&
            storageObj["nine"] &&
            !roundWon
          ) {
            document.getElementById("message").innerHTML = "It's a tie!";
          }
        }
      }

      function playerTwo() {
        let index = Math.floor(Math.random() * (10 - 1)) + 1;

        if (
          storageObj["one"] &&
          storageObj["two"] &&
          storageObj["three"] &&
          storageObj["four"] &&
          storageObj["five"] &&
          storageObj["six"] &&
          storageObj["seven"] &&
          storageObj["eight"] &&
          storageObj["nine"] &&
          !roundWon
        ) {
          document.getElementById("message").innerHTML = "It's a tie!";
          roundWon = true;
        } else if (storageObj[numberObj[index]]) {
          playerTwo();
        } else {
          storageObj[numberObj[index]] = "&#9711;";
          document.getElementById(numberObj[index]).innerHTML = "&#9711;";
        }

        if (
          storageObj["one"] &&
          storageObj["one"] === storageObj["two"] &&
          storageObj["one"] === storageObj["three"]
        ) {
          document.getElementById("one").style.color = "red";
          document.getElementById("two").style.color = "red";
          document.getElementById("three").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["four"] &&
          storageObj["four"] === storageObj["five"] &&
          storageObj["four"] === storageObj["six"]
        ) {
          document.getElementById("four").style.color = "red";
          document.getElementById("five").style.color = "red";
          document.getElementById("six").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["seven"] &&
          storageObj["seven"] === storageObj["eight"] &&
          storageObj["seven"] === storageObj["nine"]
        ) {
          document.getElementById("seven").style.color = "red";
          document.getElementById("eight").style.color = "red";
          document.getElementById("nine").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["one"] &&
          storageObj["one"] === storageObj["four"] &&
          storageObj["one"] === storageObj["seven"]
        ) {
          document.getElementById("one").style.color = "red";
          document.getElementById("four").style.color = "red";
          document.getElementById("seven").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["two"] &&
          storageObj["two"] === storageObj["five"] &&
          storageObj["two"] === storageObj["eight"]
        ) {
          document.getElementById("two").style.color = "red";
          document.getElementById("five").style.color = "red";
          document.getElementById("eight").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["three"] &&
          storageObj["three"] === storageObj["six"] &&
          storageObj["three"] === storageObj["nine"]
        ) {
          document.getElementById("three").style.color = "red";
          document.getElementById("six").style.color = "red";
          document.getElementById("nine").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["one"] &&
          storageObj["one"] === storageObj["five"] &&
          storageObj["one"] === storageObj["nine"]
        ) {
          document.getElementById("one").style.color = "red";
          document.getElementById("five").style.color = "red";
          document.getElementById("nine").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        } else if (
          storageObj["three"] &&
          storageObj["three"] === storageObj["five"] &&
          storageObj["three"] === storageObj["seven"]
        ) {
          document.getElementById("three").style.color = "red";
          document.getElementById("five").style.color = "red";
          document.getElementById("seven").style.color = "red";
          document.getElementById("message").innerHTML = "You lose!";
          roundWon = true;
        }
      }
    </script>
  </body>
  <footer></footer>
</head>
